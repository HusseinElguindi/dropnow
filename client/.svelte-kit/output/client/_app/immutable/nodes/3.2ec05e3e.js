var De=Object.defineProperty;var Ae=(l,e,n)=>e in l?De(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var j=(l,e,n)=>(Ae(l,typeof e!="symbol"?e+"":e,n),n);import{S as D,i as A,s as R,J as k,k as F,l as J,P as H,b as S,Q as O,K,C as te,h as p,R as be,T as I,M as X,U as T,y as h,z as v,A as b,L as $e,g as m,d as g,B as w,D as Y,E as G,F as Q,G as Z,e as ae,m as q,V as le,W as we,a as L,c as V,w as Se,N as Te,O as Le,q as z,r as U,X as Ve,Y as ze,Z as ke,_ as Ce,I as Ue,u as pe,n as ee,H as x,o as Pe,f as Ne,v as Ee}from"../chunks/index.83e4fbfd.js";import{c as E,I as Ie,b as je,B as _e,a as Fe}from"../chunks/Icon.4f2b1975.js";import{w as Je}from"../chunks/index.30bb006b.js";function Be(l){let e,n,s,a,t=[{class:n=E("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l[2])},{type:"file"},{multiple:l[3]},l[4]],r={};for(let i=0;i<t.length;i+=1)r=k(r,t[i]);return{c(){e=F("input"),this.h()},l(i){e=J(i,"INPUT",{class:!0,type:!0}),this.h()},h(){H(e,r)},m(i,o){S(i,e,o),e.autofocus&&e.focus(),s||(a=[O(e,"change",l[17]),O(e,"blur",l[5]),O(e,"change",l[6]),O(e,"click",l[7]),O(e,"focus",l[8]),O(e,"keydown",l[9]),O(e,"keypress",l[10]),O(e,"keyup",l[11]),O(e,"mouseover",l[12]),O(e,"mouseenter",l[13]),O(e,"mouseleave",l[14]),O(e,"paste",l[15]),O(e,"input",l[16])],s=!0)},p(i,[o]){H(e,r=K(t,[o&4&&n!==(n=E("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i[2]))&&{class:n},{type:"file"},o&8&&{multiple:i[3]},o&16&&i[4]]))},i:te,o:te,d(i){i&&p(e),s=!1,be(a)}}}function Me(l,e,n){const s=["class","multiple","value","files"];let a=I(e,s),{class:t=void 0}=e,{multiple:r=void 0}=e,{value:i=void 0}=e,{files:o=void 0}=e;function u(C){T.call(this,l,C)}function f(C){T.call(this,l,C)}function d(C){T.call(this,l,C)}function $(C){T.call(this,l,C)}function c(C){T.call(this,l,C)}function _(C){T.call(this,l,C)}function y(C){T.call(this,l,C)}function N(C){T.call(this,l,C)}function P(C){T.call(this,l,C)}function B(C){T.call(this,l,C)}function W(C){T.call(this,l,C)}function M(C){T.call(this,l,C)}function fe(){i=this.value,o=this.files,n(0,i),n(1,o)}return l.$$set=C=>{e=k(k({},e),X(C)),n(4,a=I(e,s)),"class"in C&&n(2,t=C.class),"multiple"in C&&n(3,r=C.multiple),"value"in C&&n(0,i=C.value),"files"in C&&n(1,o=C.files)},[i,o,t,r,a,u,f,d,$,c,_,y,N,P,B,W,M,fe]}class qe extends D{constructor(e){super(),A(this,e,Me,Be,R,{class:2,multiple:3,value:0,files:1})}}function He(l){let e;const n=l[2].default,s=Y(n,l,l[3],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,t){s&&s.m(a,t),e=!0},p(a,t){s&&s.p&&(!e||t&8)&&G(s,n,a,a[3],e?Z(n,a[3],t,null):Q(a[3]),null)},i(a){e||(m(s,a),e=!0)},o(a){g(s,a),e=!1},d(a){s&&s.d(a)}}}function Xe(l){let e,n;const s=[{name:"copy"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[He]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)a=k(a,s[t]);return e=new Ie({props:a}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const i=r&3?K(s,[s[0],r&2&&$e(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ke(l,e,n){let{$$slots:s={},$$scope:a}=e;const t=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return l.$$set=r=>{n(1,e=k(k({},e),X(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=X(e),[t,e,s,a]}class We extends D{constructor(e){super(),A(this,e,Ke,Xe,R,{})}}const Ye=We;function Ge(l){let e;const n=l[2].default,s=Y(n,l,l[3],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,t){s&&s.m(a,t),e=!0},p(a,t){s&&s.p&&(!e||t&8)&&G(s,n,a,a[3],e?Z(n,a[3],t,null):Q(a[3]),null)},i(a){e||(m(s,a),e=!0)},o(a){g(s,a),e=!1},d(a){s&&s.d(a)}}}function Qe(l){let e,n;const s=[{name:"send"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[Ge]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)a=k(a,s[t]);return e=new Ie({props:a}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const i=r&3?K(s,[s[0],r&2&&$e(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ze(l,e,n){let{$$slots:s={},$$scope:a}=e;const t=[["line",{x1:"22",x2:"11",y1:"2",y2:"13"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2"}]];return l.$$set=r=>{n(1,e=k(k({},e),X(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=X(e),[t,e,s,a]}class xe extends D{constructor(e){super(),A(this,e,Ze,Qe,R,{})}}const et=xe,tt=async({params:l})=>({roomID:l.id}),Os=Object.freeze(Object.defineProperty({__proto__:null,load:tt},Symbol.toStringTag,{value:"Module"}));class st{constructor(){j(this,"ws");j(this,"onsignal");j(this,"onstatus")}async connect(e){this.ws=new WebSocket(e);let n={polite:!1,has_pair:!1};return await new Promise((s,a)=>this.ws.onopen=()=>{this.onstatus&&this.onstatus("connected"),this.ws.onmessage=({data:t})=>{n=JSON.parse(t),s()}}),this.ws.onclose=()=>this.onstatus&&this.onstatus("closed"),this.ws.onmessage=({data:s})=>{const a=JSON.parse(s);this.onsignal&&this.onsignal(a)},n}send(e){var n;(n=this.ws)==null||n.send(JSON.stringify(e))}}class nt{constructor(e,n){j(this,"signalChannel");j(this,"conn");j(this,"polite");j(this,"state");this.signalChannel=e,this.polite=n;const s={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]};this.conn=new RTCPeerConnection(s),this.state={makingOffer:!1,ignoreOffer:!1,isSettingRemoteAnswerPending:!1},this.conn.onicecandidate=({candidate:a})=>this.signalChannel.send({type:"ice-candidate",data:a??{}}),this.signalChannel.onsignal=async({type:a,data:t})=>{try{if(a=="sdp"){let r=t;const i=!this.state.makingOffer&&(this.conn.signalingState=="stable"||this.state.isSettingRemoteAnswerPending),o=r.type=="offer"&&!i;if(this.state.ignoreOffer=!this.polite&&o,this.state.ignoreOffer)return;this.state.isSettingRemoteAnswerPending=r.type=="answer",await this.conn.setRemoteDescription(r),this.state.isSettingRemoteAnswerPending=!1,r.type=="offer"&&(await this.conn.setLocalDescription(),this.signalChannel.send({type:"sdp",data:this.conn.localDescription??{}}))}else if(a=="ice-candidate"){let r=t;try{await this.conn.addIceCandidate(r)}catch(i){if(!this.state.ignoreOffer)throw i}}}catch(r){console.error(r)}}}async negotiate(){try{this.state.makingOffer=!0,await this.conn.setLocalDescription(),this.signalChannel.send({type:"sdp",data:this.conn.localDescription??{}})}catch(e){console.error(e)}finally{this.state.makingOffer=!1}this.conn.onnegotiationneeded=this.negotiate}}const he=64*1024;class at{constructor(e,n){j(this,"pc");j(this,"datac");j(this,"upload",{progress:0,uploaded:0});j(this,"download",{data:[],progress:0,downloaded:0});j(this,"ondownloadprogress");j(this,"ondownloadcomplete");j(this,"onuploadprogress");this.pc=e,this.datac=n,n.onmessage=s=>{var a,t;if(typeof s.data=="string"){let r=JSON.parse(s.data);if((r==null?void 0:r.filename)!==void 0)this.download={file:r,data:[],progress:0,downloaded:0},this.ondownloadprogress&&this.ondownloadprogress(this.download.progress,this.download.downloaded);else if(r.done&&this.ondownloadcomplete){const o=new Blob(this.download.data,{type:(a=this.download.file)==null?void 0:a.mime});this.ondownloadcomplete&&this.ondownloadcomplete(this.download.file,URL.createObjectURL(o))}}else this.download.downloaded+=s.data.byteLength,this.download.data.push(s.data),((t=this.download.file)==null?void 0:t.size)!==0&&(this.download.progress=this.download.downloaded/this.download.file.size),this.ondownloadprogress&&this.ondownloadprogress(this.download.progress,this.download.downloaded)}}async send(e){return this.datac.bufferedAmount>this.datac.bufferedAmountLowThreshold&&await new Promise((n,s)=>{this.datac.onbufferedamountlow=()=>{this.datac.onbufferedamountlow=null,n()}}),this.datac.send(e),e.byteLength}async sendFile(e){if(this.datac.readyState!=="open")return;this.upload={progress:0,uploaded:0},this.onuploadprogress&&this.onuploadprogress(this.upload.progress,this.upload.uploaded);let n={filename:e.name,size:e.size,mime:e.type};this.datac.send(JSON.stringify(n));const s=async(i,o)=>{const u=await e.slice(i,o).arrayBuffer();let f=await this.send(u);this.upload.uploaded+=f,this.upload.progress=this.upload.uploaded/e.size,this.onuploadprogress&&this.onuploadprogress(this.upload.progress,this.upload.uploaded)};let a=0,t=0;for(;t+he<=e.size;)t+=he,await s(a,t),a=t;t=e.size,await s(a,t);let r={done:!0,error:!1};this.datac.send(JSON.stringify(r))}}function ce(l){let e,n,s;const a=l[6].default,t=Y(a,l,l[5],null);let r=[{href:l[0]},{class:n=E(l[3]({variant:l[1],className:l[2]}))},l[4]],i={};for(let o=0;o<r.length;o+=1)i=k(i,r[o]);return{c(){e=F(l[0]?"a":"span"),t&&t.c(),this.h()},l(o){e=J(o,((l[0]?"a":"span")||"null").toUpperCase(),{href:!0,class:!0});var u=q(e);t&&t.l(u),u.forEach(p),this.h()},h(){le(l[0]?"a":"span")(e,i)},m(o,u){S(o,e,u),t&&t.m(e,null),s=!0},p(o,u){t&&t.p&&(!s||u&32)&&G(t,a,o,o[5],s?Z(a,o[5],u,null):Q(o[5]),null),le(o[0]?"a":"span")(e,i=K(r,[(!s||u&1)&&{href:o[0]},(!s||u&6&&n!==(n=E(o[3]({variant:o[1],className:o[2]}))))&&{class:n},u&16&&o[4]]))},i(o){s||(m(t,o),s=!0)},o(o){g(t,o),s=!1},d(o){o&&p(e),t&&t.d(o)}}}function lt(l){let e=l[0]?"a":"span",n,s,a=(l[0]?"a":"span")&&ce(l);return{c(){a&&a.c(),n=ae()},l(t){a&&a.l(t),n=ae()},m(t,r){a&&a.m(t,r),S(t,n,r),s=!0},p(t,[r]){t[0],e?R(e,t[0]?"a":"span")?(a.d(1),a=ce(t),e=t[0]?"a":"span",a.c(),a.m(n.parentNode,n)):a.p(t,r):(a=ce(t),e=t[0]?"a":"span",a.c(),a.m(n.parentNode,n))},i(t){s||(m(a),s=!0)},o(t){g(a),s=!1},d(t){t&&p(n),a&&a.d(t)}}}function rt(l,e,n){const s=["href","variant","class"];let a=I(e,s),{$$slots:t={},$$scope:r}=e;const i=je("inline-flex items-center border rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"bg-primary hover:bg-primary/80 border-transparent text-primary-foreground",secondary:"bg-secondary hover:bg-secondary/80 border-transparent text-secondary-foreground",destructive:"bg-destructive hover:bg-destructive/80 border-transparent text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});let{href:o=void 0}=e,{variant:u="default"}=e,{class:f=void 0}=e;return l.$$set=d=>{e=k(k({},e),X(d)),n(4,a=I(e,s)),"href"in d&&n(0,o=d.href),"variant"in d&&n(1,u=d.variant),"class"in d&&n(2,f=d.class),"$$scope"in d&&n(5,r=d.$$scope)},[o,u,f,i,a,r,t]}class me extends D{constructor(e){super(),A(this,e,rt,lt,R,{href:0,variant:1,class:2})}}function ot(l){let e,n,s,a,t;const r=l[3].default,i=Y(r,l,l[2],null);let o=[{class:n=E("rounded-lg border text-card-foreground shadow-sm backdrop-blur-[2px]",l[0])},l[1]],u={};for(let f=0;f<o.length;f+=1)u=k(u,o[f]);return{c(){e=F("div"),i&&i.c(),this.h()},l(f){e=J(f,"DIV",{class:!0});var d=q(e);i&&i.l(d),d.forEach(p),this.h()},h(){H(e,u)},m(f,d){S(f,e,d),i&&i.m(e,null),s=!0,a||(t=[O(e,"click",l[4]),O(e,"focusin",l[5]),O(e,"focusout",l[6]),O(e,"mouseenter",l[7]),O(e,"mouseleave",l[8])],a=!0)},p(f,[d]){i&&i.p&&(!s||d&4)&&G(i,r,f,f[2],s?Z(r,f[2],d,null):Q(f[2]),null),H(e,u=K(o,[(!s||d&1&&n!==(n=E("rounded-lg border text-card-foreground shadow-sm backdrop-blur-[2px]",f[0])))&&{class:n},d&2&&f[1]]))},i(f){s||(m(i,f),s=!0)},o(f){g(i,f),s=!1},d(f){f&&p(e),i&&i.d(f),a=!1,be(t)}}}function it(l,e,n){const s=["class"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{class:i=void 0}=e;function o(c){T.call(this,l,c)}function u(c){T.call(this,l,c)}function f(c){T.call(this,l,c)}function d(c){T.call(this,l,c)}function $(c){T.call(this,l,c)}return l.$$set=c=>{e=k(k({},e),X(c)),n(1,a=I(e,s)),"class"in c&&n(0,i=c.class),"$$scope"in c&&n(2,r=c.$$scope)},[i,a,r,t,o,u,f,d,$]}class se extends D{constructor(e){super(),A(this,e,it,ot,R,{class:0})}}function ut(l){let e,n,s;const a=l[3].default,t=Y(a,l,l[2],null);let r=[{class:n=E("p-6 pt-0",l[0])},l[1]],i={};for(let o=0;o<r.length;o+=1)i=k(i,r[o]);return{c(){e=F("div"),t&&t.c(),this.h()},l(o){e=J(o,"DIV",{class:!0});var u=q(e);t&&t.l(u),u.forEach(p),this.h()},h(){H(e,i)},m(o,u){S(o,e,u),t&&t.m(e,null),s=!0},p(o,[u]){t&&t.p&&(!s||u&4)&&G(t,a,o,o[2],s?Z(a,o[2],u,null):Q(o[2]),null),H(e,i=K(r,[(!s||u&1&&n!==(n=E("p-6 pt-0",o[0])))&&{class:n},u&2&&o[1]]))},i(o){s||(m(t,o),s=!0)},o(o){g(t,o),s=!1},d(o){o&&p(e),t&&t.d(o)}}}function ft(l,e,n){const s=["class"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{class:i=void 0}=e;return l.$$set=o=>{e=k(k({},e),X(o)),n(1,a=I(e,s)),"class"in o&&n(0,i=o.class),"$$scope"in o&&n(2,r=o.$$scope)},[i,a,r,t]}class ne extends D{constructor(e){super(),A(this,e,ft,ut,R,{class:0})}}function ct(l){let e,n,s;const a=l[3].default,t=Y(a,l,l[2],null);let r=[{class:n=E("text-sm text-muted-foreground",l[0])},l[1]],i={};for(let o=0;o<r.length;o+=1)i=k(i,r[o]);return{c(){e=F("p"),t&&t.c(),this.h()},l(o){e=J(o,"P",{class:!0});var u=q(e);t&&t.l(u),u.forEach(p),this.h()},h(){H(e,i)},m(o,u){S(o,e,u),t&&t.m(e,null),s=!0},p(o,[u]){t&&t.p&&(!s||u&4)&&G(t,a,o,o[2],s?Z(a,o[2],u,null):Q(o[2]),null),H(e,i=K(r,[(!s||u&1&&n!==(n=E("text-sm text-muted-foreground",o[0])))&&{class:n},u&2&&o[1]]))},i(o){s||(m(t,o),s=!0)},o(o){g(t,o),s=!1},d(o){o&&p(e),t&&t.d(o)}}}function dt(l,e,n){const s=["class"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{class:i=void 0}=e;return l.$$set=o=>{e=k(k({},e),X(o)),n(1,a=I(e,s)),"class"in o&&n(0,i=o.class),"$$scope"in o&&n(2,r=o.$$scope)},[i,a,r,t]}class oe extends D{constructor(e){super(),A(this,e,dt,ct,R,{class:0})}}function mt(l){let e,n,s;const a=l[3].default,t=Y(a,l,l[2],null);let r=[{class:n=E("flex flex-col space-y-1.5 p-6",l[0])},l[1]],i={};for(let o=0;o<r.length;o+=1)i=k(i,r[o]);return{c(){e=F("div"),t&&t.c(),this.h()},l(o){e=J(o,"DIV",{class:!0});var u=q(e);t&&t.l(u),u.forEach(p),this.h()},h(){H(e,i)},m(o,u){S(o,e,u),t&&t.m(e,null),s=!0},p(o,[u]){t&&t.p&&(!s||u&4)&&G(t,a,o,o[2],s?Z(a,o[2],u,null):Q(o[2]),null),H(e,i=K(r,[(!s||u&1&&n!==(n=E("flex flex-col space-y-1.5 p-6",o[0])))&&{class:n},u&2&&o[1]]))},i(o){s||(m(t,o),s=!0)},o(o){g(t,o),s=!1},d(o){o&&p(e),t&&t.d(o)}}}function gt(l,e,n){const s=["class"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{class:i=void 0}=e;return l.$$set=o=>{e=k(k({},e),X(o)),n(1,a=I(e,s)),"class"in o&&n(0,i=o.class),"$$scope"in o&&n(2,r=o.$$scope)},[i,a,r,t]}class ie extends D{constructor(e){super(),A(this,e,gt,mt,R,{class:0})}}function de(l){let e,n,s;const a=l[4].default,t=Y(a,l,l[3],null);let r=[{class:n=E("text-lg font-semibold leading-none tracking-tight",l[0])},l[2]],i={};for(let o=0;o<r.length;o+=1)i=k(i,r[o]);return{c(){e=F(l[1]),t&&t.c(),this.h()},l(o){e=J(o,(l[1]||"null").toUpperCase(),{class:!0});var u=q(e);t&&t.l(u),u.forEach(p),this.h()},h(){le(l[1])(e,i)},m(o,u){S(o,e,u),t&&t.m(e,null),s=!0},p(o,u){t&&t.p&&(!s||u&8)&&G(t,a,o,o[3],s?Z(a,o[3],u,null):Q(o[3]),null),le(o[1])(e,i=K(r,[(!s||u&1&&n!==(n=E("text-lg font-semibold leading-none tracking-tight",o[0])))&&{class:n},u&4&&o[2]]))},i(o){s||(m(t,o),s=!0)},o(o){g(t,o),s=!1},d(o){o&&p(e),t&&t.d(o)}}}function $t(l){let e=l[1],n,s,a=l[1]&&de(l);return{c(){a&&a.c(),n=ae()},l(t){a&&a.l(t),n=ae()},m(t,r){a&&a.m(t,r),S(t,n,r),s=!0},p(t,[r]){t[1]?e?R(e,t[1])?(a.d(1),a=de(t),e=t[1],a.c(),a.m(n.parentNode,n)):a.p(t,r):(a=de(t),e=t[1],a.c(),a.m(n.parentNode,n)):e&&(a.d(1),a=null,e=t[1])},i(t){s||(m(a),s=!0)},o(t){g(a),s=!1},d(t){t&&p(n),a&&a.d(t)}}}function pt(l,e,n){const s=["class","tag"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{class:i=void 0}=e,{tag:o="h3"}=e;return l.$$set=u=>{e=k(k({},e),X(u)),n(2,a=I(e,s)),"class"in u&&n(0,i=u.class),"tag"in u&&n(1,o=u.tag),"$$scope"in u&&n(3,r=u.$$scope)},[i,o,a,r,t]}class ue extends D{constructor(e){super(),A(this,e,pt,$t,R,{class:0,tag:1})}}function _t(l){let e;return{c(){e=z("Send")},l(n){e=U(n,"Send")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function ht(l){let e;return{c(){e=z("Select a file to send")},l(n){e=U(n,"Select a file to send")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function vt(l){let e,n,s,a;return e=new ue({props:{$$slots:{default:[_t]},$$scope:{ctx:l}}}),s=new oe({props:{$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&16&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&16&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function bt(l){let e,n,s;return e=new et({props:{class:"mr-2 h-3.5 w-3.5"}}),{c(){h(e.$$.fragment),n=z("Send")},l(a){v(e.$$.fragment,a),n=U(a,"Send")},m(a,t){b(e,a,t),S(a,n,t),s=!0},p:te,i(a){s||(m(e.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),s=!1},d(a){w(e,a),a&&p(n)}}}function wt(l){let e,n,s,a,t;function r(o){l[2](o)}let i={};return l[0]!==void 0&&(i.files=l[0]),e=new qe({props:i}),Se.push(()=>Te(e,"files",r)),a=new _e({props:{class:"w-full",disabled:!l[0],$$slots:{default:[bt]},$$scope:{ctx:l}}}),a.$on("click",l[1]),{c(){h(e.$$.fragment),s=L(),h(a.$$.fragment)},l(o){v(e.$$.fragment,o),s=V(o),v(a.$$.fragment,o)},m(o,u){b(e,o,u),S(o,s,u),b(a,o,u),t=!0},p(o,u){const f={};!n&&u&1&&(n=!0,f.files=o[0],Le(()=>n=!1)),e.$set(f);const d={};u&1&&(d.disabled=!o[0]),u&16&&(d.$$scope={dirty:u,ctx:o}),a.$set(d)},i(o){t||(m(e.$$.fragment,o),m(a.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),g(a.$$.fragment,o),t=!1},d(o){w(e,o),o&&p(s),w(a,o)}}}function St(l){let e,n,s,a;return e=new ie({props:{$$slots:{default:[vt]},$$scope:{ctx:l}}}),s=new ne({props:{class:"space-y-3",$$slots:{default:[wt]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&16&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&17&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function kt(l){let e,n;return e=new se({props:{$$slots:{default:[St]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,[a]){const t={};a&17&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function Ct(l,e,n){let s;const a=we(),t=()=>{a("send",{files:s})};function r(i){s=i,n(0,s)}return[s,t,r]}class Pt extends D{constructor(e){super(),A(this,e,Ct,kt,R,{})}}function Re(l,e){const n=[];if(e)for(let s=0;s<e.length;s++){const a=e[s],t=Array.isArray(a)?a[0]:a;Array.isArray(a)&&a.length>1?n.push(t(l,a[1])):n.push(t(l))}return{update(s){if((s&&s.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(s)for(let a=0;a<s.length;a++){const t=n[a];if(t&&t.update){const r=s[a];Array.isArray(r)&&r.length>1?t.update(r[1]):t.update()}}},destroy(){for(let s=0;s<n.length;s++){const a=n[s];a&&a.destroy&&a.destroy()}}}}function Nt(){const l=Symbol();return{getContext:()=>Ve(l),setContext:e=>ze(l,e)}}function Et(l){return Object.entries(l)}function ve(...l){return[...new Set(l.flatMap(Object.keys))]}function It(l){const e=Nt();return{...e,setContext:s=>{const a=ve(l??{},s??{}),t=Je(a.reduce((u,f)=>((l==null?void 0:l[f])!==void 0&&(u[f]=l[f]),u),{})),r=u=>{t.update(f=>{const d=u(f),c=ve(l??{},d??{}).reduce((_,y)=>(d[y]===void 0&&(l==null?void 0:l[y])!==void 0?_[y]=l[y]:_[y]=d[y],_),{});return Et(c).forEach(([_,y])=>{if(s){const N=_ in s?s[_]:void 0;N==null||N(y)}}),c})},o={...t,set:u=>{r(()=>u)},update:r};return e.setContext(o),o},defaults:l}}function Rt(l){let e,n,s,a,t,r,i,o;const u=l[4].default,f=Y(u,l,l[3],null);let d=[{role:"progressbar"},{"data-value":l[1]},{"data-max":l[0]},{"data-state":n=re(l[1],l[0])},{"aria-valuemin":s=0},{"aria-valuemax":l[0]},{"aria-valuenow":l[1]},{"aria-valuetext":a=`${100*(l[1]??0)/(l[0]??1)}%`},l[2]],$={};for(let c=0;c<d.length;c+=1)$=k($,d[c]);return{c(){e=F("div"),f&&f.c(),this.h()},l(c){e=J(c,"DIV",{role:!0,"data-value":!0,"data-max":!0,"data-state":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0});var _=q(e);f&&f.l(_),_.forEach(p),this.h()},h(){H(e,$)},m(c,_){S(c,e,_),f&&f.m(e,null),r=!0,i||(o=ke(t=Re.call(null,e,l[2].use)),i=!0)},p(c,[_]){f&&f.p&&(!r||_&8)&&G(f,u,c,c[3],r?Z(u,c[3],_,null):Q(c[3]),null),H(e,$=K(d,[{role:"progressbar"},(!r||_&2)&&{"data-value":c[1]},(!r||_&1)&&{"data-max":c[0]},(!r||_&3&&n!==(n=re(c[1],c[0])))&&{"data-state":n},{"aria-valuemin":s},(!r||_&1)&&{"aria-valuemax":c[0]},(!r||_&2)&&{"aria-valuenow":c[1]},(!r||_&3&&a!==(a=`${100*(c[1]??0)/(c[0]??1)}%`))&&{"aria-valuetext":a},_&4&&c[2]])),t&&Ce(t.update)&&_&4&&t.update.call(null,c[2].use)},i(c){r||(m(f,c),r=!0)},o(c){g(f,c),r=!1},d(c){c&&p(e),f&&f.d(c),i=!1,o()}}}const ge={max:1,value:null},{getContext:yt,setContext:Ot}=It(ge),Dt=yt;function re(l,e){return l==null?"indeterminate":l>=(e??1)?"complete":"loading"}function At(l,e,n){const s=["max","value"];let a=I(e,s),{$$slots:t={},$$scope:r}=e,{max:i=ge.max}=e,{value:o=ge.value}=e;const u=Ot({value:f=>n(1,o=f),max:f=>n(0,i=f)});return l.$$set=f=>{e=k(k({},e),X(f)),n(2,a=I(e,s)),"max"in f&&n(0,i=f.max),"value"in f&&n(1,o=f.value),"$$scope"in f&&n(3,r=f.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&u.set({value:o,max:i})},[i,o,a,r,t]}class Tt extends D{constructor(e){super(),A(this,e,At,Rt,R,{max:0,value:1})}}function Lt(l){let e,n,s,a,t,r,i,o;const u=l[4].default,f=Y(u,l,l[3],null);let d=[l[2],{"data-value":n=l[0].value},{"data-max":s=l[0].max},{"data-state":a=re(l[0].value,l[0].max)}],$={};for(let c=0;c<d.length;c+=1)$=k($,d[c]);return{c(){e=F("div"),f&&f.c(),this.h()},l(c){e=J(c,"DIV",{"data-value":!0,"data-max":!0,"data-state":!0});var _=q(e);f&&f.l(_),_.forEach(p),this.h()},h(){H(e,$)},m(c,_){S(c,e,_),f&&f.m(e,null),r=!0,i||(o=ke(t=Re.call(null,e,l[2].use)),i=!0)},p(c,[_]){f&&f.p&&(!r||_&8)&&G(f,u,c,c[3],r?Z(u,c[3],_,null):Q(c[3]),null),H(e,$=K(d,[_&4&&c[2],(!r||_&1&&n!==(n=c[0].value))&&{"data-value":n},(!r||_&1&&s!==(s=c[0].max))&&{"data-max":s},(!r||_&1&&a!==(a=re(c[0].value,c[0].max)))&&{"data-state":a}])),t&&Ce(t.update)&&_&4&&t.update.call(null,c[2].use)},i(c){r||(m(f,c),r=!0)},o(c){g(f,c),r=!1},d(c){c&&p(e),f&&f.d(c),i=!1,o()}}}function Vt(l,e,n){const s=[];let a=I(e,s),t,{$$slots:r={},$$scope:i}=e;const o=Dt();return Ue(l,o,u=>n(0,t=u)),l.$$set=u=>{e=k(k({},e),X(u)),n(2,a=I(e,s)),"$$scope"in u&&n(3,i=u.$$scope)},[t,o,a,i,r]}class zt extends D{constructor(e){super(),A(this,e,Vt,Lt,R,{})}}const ye={Root:Tt,Indicator:zt};function Ut(l){let e,n;return e=new ye.Indicator({props:{class:"h-full w-full flex-1 bg-primary transition-all",style:`transform: translateX(-${100-100*(l[1]??0)/(l[2]??1)}%)`}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,a){const t={};a&6&&(t.style=`transform: translateX(-${100-100*(s[1]??0)/(s[2]??1)}%)`),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function jt(l){let e,n;const s=[{class:E("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l[0])},{value:l[1]},{max:l[2]},l[3]];let a={$$slots:{default:[Ut]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)a=k(a,s[t]);return e=new ye.Root({props:a}),{c(){h(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,[r]){const i=r&15?K(s,[r&1&&{class:E("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t[0])},r&2&&{value:t[1]},r&4&&{max:t[2]},r&8&&$e(t[3])]):{};r&22&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ft(l,e,n){const s=["class","value","max"];let a=I(e,s),{class:t=void 0}=e,{value:r=null}=e,{max:i=100}=e;return l.$$set=o=>{e=k(k({},e),X(o)),n(3,a=I(e,s)),"class"in o&&n(0,t=o.class),"value"in o&&n(1,r=o.value),"max"in o&&n(2,i=o.max)},[t,r,i,a]}class Oe extends D{constructor(e){super(),A(this,e,Ft,jt,R,{class:0,value:1,max:2})}}function Jt(l){let e;return{c(){e=z("Send")},l(n){e=U(n,"Send")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function Bt(l){let e;return{c(){e=z("Track your send progress")},l(n){e=U(n,"Track your send progress")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function Mt(l){let e,n,s,a;return e=new ue({props:{$$slots:{default:[Jt]},$$scope:{ctx:l}}}),s=new oe({props:{$$slots:{default:[Bt]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&8&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function qt(l){let e=l[0]===1?"Send another file":"Cancel",n;return{c(){n=z(e)},l(s){n=U(s,e)},m(s,a){S(s,n,a)},p(s,a){a&1&&e!==(e=s[0]===1?"Send another file":"Cancel")&&pe(n,e)},d(s){s&&p(n)}}}function Ht(l){let e,n,s,a;return e=new Oe({props:{value:l[0],max:1}}),s=new _e({props:{class:"w-full",$$slots:{default:[qt]},$$scope:{ctx:l}}}),s.$on("click",l[1]),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&1&&(i.value=t[0]),e.$set(i);const o={};r&9&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function Xt(l){let e,n,s,a;return e=new ie({props:{$$slots:{default:[Mt]},$$scope:{ctx:l}}}),s=new ne({props:{class:"space-y-3",$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&9&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function Kt(l){let e,n;return e=new se({props:{$$slots:{default:[Xt]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,[a]){const t={};a&9&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function Wt(l,e,n){let{progress:s}=e;const a=we(),t=()=>{a("cancel","")};return l.$$set=r=>{"progress"in r&&n(0,s=r.progress)},[s,t]}class Yt extends D{constructor(e){super(),A(this,e,Wt,Kt,R,{progress:0})}}function Gt(l){let e;return{c(){e=z("Receive")},l(n){e=U(n,"Receive")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function Qt(l){let e;return{c(){e=z("Track your receive progress")},l(n){e=U(n,"Track your receive progress")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function Zt(l){let e,n,s,a;return e=new ue({props:{$$slots:{default:[Gt]},$$scope:{ctx:l}}}),s=new oe({props:{$$slots:{default:[Qt]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&2&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function xt(l){let e,n;return e=new Oe({props:{value:l[0],max:1}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,a){const t={};a&1&&(t.value=s[0]),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function es(l){let e,n,s,a;return e=new ie({props:{$$slots:{default:[Zt]},$$scope:{ctx:l}}}),s=new ne({props:{class:"space-y-3",$$slots:{default:[xt]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&3&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function ts(l){let e,n;return e=new se({props:{$$slots:{default:[es]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,[a]){const t={};a&3&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function ss(l,e,n){let{progress:s}=e;return l.$$set=a=>{"progress"in a&&n(0,s=a.progress)},[s]}class ns extends D{constructor(e){super(),A(this,e,ss,ts,R,{progress:0})}}function as(l){let e;return{c(){e=z(l[0])},l(n){e=U(n,l[0])},m(n,s){S(n,e,s)},p(n,s){s&1&&pe(e,n[0])},d(n){n&&p(e)}}}function ls(l){let e=(l[1]??"waiting for peer")+"",n;return{c(){n=z(e)},l(s){n=U(s,e)},m(s,a){S(s,n,a)},p(s,a){a&2&&e!==(e=(s[1]??"waiting for peer")+"")&&pe(n,e)},d(s){s&&p(n)}}}function rs(l){let e,n,s,a,t,r,i,o;return s=new me({props:{class:E("pointer-events-none",l[2]),$$slots:{default:[as]},$$scope:{ctx:l}}}),i=new me({props:{class:E("pointer-events-none",l[3]),$$slots:{default:[ls]},$$scope:{ctx:l}}}),{c(){e=F("div"),n=z(`Signal Server
			`),h(s.$$.fragment),a=L(),t=F("div"),r=z(`Peer Connection
			`),h(i.$$.fragment),this.h()},l(u){e=J(u,"DIV",{class:!0});var f=q(e);n=U(f,`Signal Server
			`),v(s.$$.fragment,f),f.forEach(p),a=V(u),t=J(u,"DIV",{class:!0});var d=q(t);r=U(d,`Peer Connection
			`),v(i.$$.fragment,d),d.forEach(p),this.h()},h(){ee(e,"class","flex items-center gap-1.5 justify-between"),ee(t,"class","flex items-center gap-1.5 justify-between")},m(u,f){S(u,e,f),x(e,n),b(s,e,null),S(u,a,f),S(u,t,f),x(t,r),b(i,t,null),o=!0},p(u,f){const d={};f&4&&(d.class=E("pointer-events-none",u[2])),f&17&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const $={};f&8&&($.class=E("pointer-events-none",u[3])),f&18&&($.$$scope={dirty:f,ctx:u}),i.$set($)},i(u){o||(m(s.$$.fragment,u),m(i.$$.fragment,u),o=!0)},o(u){g(s.$$.fragment,u),g(i.$$.fragment,u),o=!1},d(u){u&&p(e),w(s),u&&p(a),u&&p(t),w(i)}}}function os(l){let e,n;return e=new ne({props:{class:"p-6 py-4 text-sm space-y-1",$$slots:{default:[rs]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,a){const t={};a&31&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function is(l){let e,n;return e=new se({props:{$$slots:{default:[os]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,[a]){const t={};a&31&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function us(l,e,n){let{scStatus:s="closed"}=e,{rtcStatus:a}=e,t="",r="";return l.$$set=i=>{"scStatus"in i&&n(0,s=i.scStatus),"rtcStatus"in i&&n(1,a=i.rtcStatus)},l.$$.update=()=>{if(l.$$.dirty&1)switch(s){case"connected":n(2,t="bg-green-500");break;case"closed":n(2,t="bg-red-500");break}if(l.$$.dirty&2)switch(a){case"new":case"connected":n(3,r="bg-green-500");break;case"connecting":n(3,r="bg-amber-500");break;case"disconnected":case"failed":case"closed":n(3,r="bg-red-500");break}},[s,a,t,r]}class fs extends D{constructor(e){super(),A(this,e,us,is,R,{scStatus:0,rtcStatus:1})}}function cs(l){let e;return{c(){e=z("Share")},l(n){e=U(n,"Share")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function ds(l){let e;return{c(){e=z("Share a link to the room")},l(n){e=U(n,"Share a link to the room")},m(n,s){S(n,e,s)},d(n){n&&p(e)}}}function ms(l){let e,n,s,a;return e=new ue({props:{$$slots:{default:[cs]},$$scope:{ctx:l}}}),s=new oe({props:{$$slots:{default:[ds]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&8&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function gs(l){let e,n;return e=new Ye({props:{class:"text-muted-foreground"}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p:te,i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function $s(l){let e,n,s,a;return e=new Fe({props:{class:"focus-visible:ring-0",value:l[0],readonly:!0}}),s=new _e({props:{variant:"outline",class:"p-3 h-10 w-10",$$slots:{default:[gs]},$$scope:{ctx:l}}}),s.$on("click",l[1]),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&1&&(i.value=t[0]),e.$set(i);const o={};r&8&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function ps(l){let e,n,s,a;return e=new ie({props:{class:"pb-3",$$slots:{default:[ms]},$$scope:{ctx:l}}}),s=new ne({props:{class:"flex gap-2",$$slots:{default:[$s]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment),n=L(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),n=V(t),v(s.$$.fragment,t)},m(t,r){b(e,t,r),S(t,n,r),b(s,t,r),a=!0},p(t,r){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};r&9&&(o.$$scope={dirty:r,ctx:t}),s.$set(o)},i(t){a||(m(e.$$.fragment,t),m(s.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),g(s.$$.fragment,t),a=!1},d(t){w(e,t),t&&p(n),w(s,t)}}}function _s(l){let e,n;return e=new se({props:{$$slots:{default:[ps]},$$scope:{ctx:l}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,[a]){const t={};a&9&&(t.$$scope={dirty:a,ctx:s}),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function hs(l,e,n){let s,a;return Pe(()=>{console.log(window.location),n(0,s=`${window.location.host}${window.location.pathname}`),a=`${window.location.origin}${window.location.pathname}`}),[s,()=>(navigator==null?void 0:navigator.clipboard)&&navigator.clipboard.writeText(a)]}class vs extends D{constructor(e){super(),A(this,e,hs,_s,R,{})}}function bs(l){let e;return{c(){e=z(l[6])},l(n){e=U(n,l[6])},m(n,s){S(n,e,s)},p:te,d(n){n&&p(e)}}}function ws(l){let e,n;return e=new vs({}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p:te,i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function Ss(l){let e,n,s,a,t,r,i,o;const u=[Cs,ks],f=[];function d($,c){return $[1]?1:0}return e=d(l),n=f[e]=u[e](l),a=new ns({props:{progress:l[5]}}),{c(){n.c(),s=L(),h(a.$$.fragment),t=L(),r=F("a"),i=z("download"),this.h()},l($){n.l($),s=V($),v(a.$$.fragment,$),t=V($),r=J($,"A",{href:!0,target:!0,referrerpolicy:!0});var c=q(r);i=U(c,"download"),c.forEach(p),this.h()},h(){r.hidden=!0,ee(r,"href","/#"),ee(r,"target","_blank"),ee(r,"referrerpolicy","no-referrer")},m($,c){f[e].m($,c),S($,s,c),b(a,$,c),S($,t,c),S($,r,c),x(r,i),l[10](r),o=!0},p($,c){let _=e;e=d($),e===_?f[e].p($,c):(Ee(),g(f[_],1,1,()=>{f[_]=null}),Ne(),n=f[e],n?n.p($,c):(n=f[e]=u[e]($),n.c()),m(n,1),n.m(s.parentNode,s));const y={};c&32&&(y.progress=$[5]),a.$set(y)},i($){o||(m(n),m(a.$$.fragment,$),o=!0)},o($){g(n),g(a.$$.fragment,$),o=!1},d($){f[e].d($),$&&p(s),w(a,$),$&&p(t),$&&p(r),l[10](null)}}}function ks(l){let e,n;return e=new Yt({props:{progress:l[4]}}),e.$on("cancel",l[9]),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p(s,a){const t={};a&16&&(t.progress=s[4]),e.$set(t)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function Cs(l){let e,n;return e=new Pt({}),e.$on("send",l[7]),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,a){b(e,s,a),n=!0},p:te,i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function Ps(l){let e,n,s,a,t,r,i,o,u,f,d,$;r=new me({props:{variant:"outline",class:"text-2xl md:text-3xl backdrop-blur-[1px] whitespace-nowrap overflow-x-auto",$$slots:{default:[bs]},$$scope:{ctx:l}}}),o=new fs({props:{scStatus:l[2],rtcStatus:l[3]}});const c=[Ss,ws],_=[];function y(N,P){return N[3]==="connected"?0:1}return f=y(l),d=_[f]=c[f](l),{c(){e=F("div"),n=F("div"),s=F("h1"),a=z("Room"),t=L(),h(r.$$.fragment),i=L(),h(o.$$.fragment),u=L(),d.c(),this.h()},l(N){e=J(N,"DIV",{class:!0});var P=q(e);n=J(P,"DIV",{class:!0});var B=q(n);s=J(B,"H1",{class:!0});var W=q(s);a=U(W,"Room"),W.forEach(p),t=V(B),v(r.$$.fragment,B),B.forEach(p),i=V(P),v(o.$$.fragment,P),u=V(P),d.l(P),P.forEach(p),this.h()},h(){ee(s,"class","text-3xl md:text-4xl font-bold leading-tight tracking-tighter"),ee(n,"class","flex gap-3"),ee(e,"class","w-full max-w-md sm:max-w-sm mx-auto space-y-4 mt-[8rem]")},m(N,P){S(N,e,P),x(e,n),x(n,s),x(s,a),x(n,t),b(r,n,null),x(e,i),b(o,e,null),x(e,u),_[f].m(e,null),$=!0},p(N,[P]){const B={};P&16384&&(B.$$scope={dirty:P,ctx:N}),r.$set(B);const W={};P&4&&(W.scStatus=N[2]),P&8&&(W.rtcStatus=N[3]),o.$set(W);let M=f;f=y(N),f===M?_[f].p(N,P):(Ee(),g(_[M],1,1,()=>{_[M]=null}),Ne(),d=_[f],d?d.p(N,P):(d=_[f]=c[f](N),d.c()),m(d,1),d.m(e,null))},i(N){$||(m(r.$$.fragment,N),m(o.$$.fragment,N),m(d),$=!0)},o(N){g(r.$$.fragment,N),g(o.$$.fragment,N),g(d),$=!1},d(N){N&&p(e),w(r),w(o),_[f].d()}}}function Ns(l,e,n){let{data:s}=e;const{roomID:a}=s;let t,r=!1,i,o,u,f,d,$=0,c=0;const _=({detail:{files:P}})=>{n(1,r=!0),P!=null&&P.length&&(d==null||d.sendFile(P[0]))};Pe(async()=>{const P=`wss://dropnow.elguindi.xyz/ws/${a}`;i=new st,i.onstatus=M=>n(2,o=M);const B=await i.connect(P);u=new nt(i,B.polite),u.conn.onconnectionstatechange=()=>n(3,f=u.conn.connectionState),u.conn.oniceconnectionstatechange=()=>{switch(u.conn.iceConnectionState){case"closed":case"failed":u.conn.restartIce();break}};let W=u.conn.createDataChannel("dataChan",{negotiated:!0,id:0,ordered:!0});W.binaryType="arraybuffer",d=new at(u,W),d.onuploadprogress=M=>n(4,$=M),d.ondownloadprogress=M=>n(5,c=M),d.ondownloadcomplete=(M,fe)=>{n(0,t.href=fe,t),n(0,t.download=M.filename,t),n(0,t.type=M.mime,t),t.click()},B!=null&&B.has_pair&&u.negotiate()});const y=()=>n(1,r=!1);function N(P){Se[P?"unshift":"push"](()=>{t=P,n(0,t)})}return l.$$set=P=>{"data"in P&&n(8,s=P.data)},[t,r,o,f,$,c,a,_,s,y,N]}class Ds extends D{constructor(e){super(),A(this,e,Ns,Ps,R,{data:8})}}export{Ds as component,Os as universal};
